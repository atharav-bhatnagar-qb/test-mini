{"name":"Referral","code":"te6ccgECGwEABLQAART/APSkE/S88sgLAQIBYgIDA3rQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVE9s88uCCFwQFAgFYDg8CxO2i7fsBkjB/4HAh10nCH5UwINcLH94gghD9av9Iuo4wMNMfAYIQ/Wr/SLry4IH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIMTN/4CCCEJRqmLa64wLAAJEw4w1wBgcAzsj4QwHMfwHKAFUwUEMg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBIG6VMHABywGOHiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFuLIUAPPFslYzMhYzxbJAczJ7VQBUDDTHwGCEJRqmLa68uCB0z8BMcgBghCv+Q9XWMsfyz/J+EIBcG3bPH8IA/z5ASCC8POomx4fzZUwJIWjNK3/A1ioRNTwNblxx0z9qjesXBQLuo8xMNs8ghB3NZQA+CdvEPhBbyQTXwOhggiYloChtggjIG7y0IABgEJ/VSBtbW3bPH/bMeAggvBu9BoWAyecvQM5bTo1k9P0ZcloVUElqLOQZ+v8iwYNZboLDAkBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8DAOyjzEw2zyCEDuaygD4J28Q+EFvJBNfA6GCCJiWgKG2CCMgbvLQgAGAQn9VIG1tbds8f9sx4ILwo2d6ELOA3ZSTHjL96IqvdwWdAqZ2I0TOZ7IqZoqnoZm64wILDAoCVts8ghA7msoA+CdvEPhBbyQTXwOhggiYloChtghSQIBCf1UgbW1t2zx/2zELDAAWgV1Q+EJSUMcF8vQByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsADQCYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzAIBIBARAgFIExQCEbbYG2ebZ42IMBcSALm3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOA3qTvfKost446np7wKs4ZNBOE7Lpy1Zp2W5nQdLNsozdFJAACPgnbxAAEbCvu1E0NIAAYAIBIBUWAhGsNW2ebZ42IkAXGAB1rN3Ghq0uDM5nReXqLaqJjQsu6M5ujosJiC8nCOtK7wnNBqsOpiYuiUnOKojsiKoqKI6I6OwqRklocEAB9u1E0NQB+GPSAAGOWvpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBINcLAcMAjh/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIlHLXIW3iAdQB0AHUAdAUQzBsFOD4KNcLCoMJuvLgidQB0AHUAdASAhkAFCIgbvLQgFRkMSMBCNEB2zwaAApt+EJBMw==","abi":"{\"name\":\"Referral\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Affiliate\",\"header\":4251647816,\"fields\":[{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Ref\",\"header\":null,\"fields\":[{\"name\":\"ownerContract\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"generatedBy\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jobId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"link\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"WithdrawAmount\",\"header\":1566890017,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"GenerateReferral\",\"header\":3698258767,\"fields\":[{\"name\":\"jobId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"link\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"generatedBy\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CandidateRegistered\",\"header\":1019638918,\"fields\":[{\"name\":\"rating\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"jobId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"link\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Affiliate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Reward\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Return\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Contribute\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"details\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"Ref\",\"optional\":false}},{\"name\":\"balance\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"23888\":{\"message\":\"Only pot is authorized for this action !\"},\"59719\":{\"message\":\"This action is reserved for the owner !\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[{"name":"jobId","type":{"kind":"simple","type":"string","optional":false}},{"name":"link","type":{"kind":"simple","type":"string","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckECHQEABL4AAQHAAQEFodSTAgEU/wD0pBP0vPLICwMCAWIEDwN60AHQ0wMBcbCjAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUUFMDbwT4YQL4Yts8VRPbPPLgghgFDgLE7aLt+wGSMH/gcCHXScIflTAg1wsf3iCCEP1q/0i6jjAw0x8BghD9av9IuvLggfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgxM3/gIIIQlGqYtrrjAsAAkTDjDXAGCAFQMNMfAYIQlGqYtrry4IHTPwExyAGCEK/5D1dYyx/LP8n4QgFwbds8fwcBOm1tIm6zmVsgbvLQgG8iAZEy4hAkcAMEgEJQI9s8DAP8+QEggvDzqJseH82VMCSFozSt/wNYqETU8DW5ccdM/ao3rFwUC7qPMTDbPIIQdzWUAPgnbxD4QW8kE18DoYIImJaAobYIIyBu8tCAAYBCf1UgbW1t2zx/2zHgIILwbvQaFgMnnL0DOW06NZPT9GXJaFVBJaizkGfr/IsGDWW6CwwJA7KPMTDbPIIQO5rKAPgnbxD4QW8kE18DoYIImJaAobYIIyBu8tCAAYBCf1UgbW1t2zx/2zHggvCjZ3oQs4DdlJMeMv3oiq93BZ0CpnYjRM5nsipmiqehmbrjAgsMCgJW2zyCEDuaygD4J28Q+EFvJBNfA6GCCJiWgKG2CFJAgEJ/VSBtbW3bPH/bMQsMABaBXVD4QlJQxwXy9AHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wANAJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAM7I+EMBzH8BygBVMFBDINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiyFADzxbJWMzIWM8WyQHMye1UAgFYEBQCASAREwIRttgbZ5tnjYgwGBIACPgnbxAAubd6ME4LnYerpZXPY9CdhzrJUKNs0E4TusalpWyPlmRadeW/vixHME4ECrgDcAzscpnLB1XI5LZYcE4DepO98qiy3jjqenvAqzhk0E4TsunLVmnZbmdB0s2yjN0UkAIBSBUWABGwr7tRNDSAAGACASAXHAIRrDVtnm2eNiJAGBsB9u1E0NQB+GPSAAGOWvpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBINcLAcMAjh/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIlHLXIW3iAdQB0AHUAdAUQzBsFOD4KNcLCoMJuvLgidQB0AHUAdASAhkBCNEB2zwaAApt+EJBMwAUIiBu8tCAVGQxIwB1rN3Ghq0uDM5nReXqLaqJjQsu6M5ujosJiC8nCOtK7wnNBqsOpiYuiUnOKojsiKoqKI6I6OwqRklocEAlIRSd"}},"sources":{"contracts/referral.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CgptZXNzYWdlIEFmZmlsaWF0ZXsKICAgIGFmZmlsaWF0ZTpBZGRyZXNzOwp9CgoKc3RydWN0IFJlZnsKICAgIG93bmVyQ29udHJhY3Q6QWRkcmVzczsKICAgIGdlbmVyYXRlZEJ5OkFkZHJlc3M7CiAgICBqb2JJZDpTdHJpbmc7CiAgICBsaW5rOlN0cmluZzsKfQoKY29udHJhY3QgUmVmZXJyYWwgd2l0aCBEZXBsb3lhYmxlIHsKCiAgICBjb25zdCBNSU5fVE9OX0JBTEFOQ0VfUkVRVUlSRUQ6SW50ID0gdG9uKCIwLjAxIik7CgogICAgb3duZXJDb250cmFjdDpBZGRyZXNzOwogICAgZ2VuZXJhdGVkQnk6QWRkcmVzcz87CiAgICBqb2JJZDpTdHJpbmc7CiAgICBsaW5rOlN0cmluZzsKICAgIAogICAgaW5pdCgKICAgICAgICBqb2JJZDpTdHJpbmcsCiAgICAgICAgbGluazpTdHJpbmcKICAgICkgewogICAgICAgIHNlbGYub3duZXJDb250cmFjdD1zZW5kZXIoKTsKICAgICAgICBzZWxmLmpvYklkPWpvYklkOwogICAgICAgIHNlbGYubGluaz1saW5rOwogICAgfQoKICAgIGZ1biBvbmx5T3duZXIoKXsKICAgICAgICByZXF1aXJlKHNlbmRlcigpPT1zZWxmLm93bmVyQ29udHJhY3QsIk9ubHkgcG90IGlzIGF1dGhvcml6ZWQgZm9yIHRoaXMgYWN0aW9uICEiKTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzpBZmZpbGlhdGUpewogICAgICAgIHNlbGYuZ2VuZXJhdGVkQnk9bXNnLmFmZmlsaWF0ZTsKICAgIH0KCiAgICByZWNlaXZlKCJSZXdhcmQiKXsKICAgICAgICBzZWxmLm9ubHlPd25lcigpOwogICAgICAgIGxldCBhbW91bnQ6SW50PW1pbih0b24oIjIiKSxteUJhbGFuY2UoKS1jb250ZXh0KCkudmFsdWUtc2VsZi5NSU5fVE9OX0JBTEFOQ0VfUkVRVUlSRUQpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOnNlbGYuZ2VuZXJhdGVkQnkhISwKICAgICAgICAgICAgdmFsdWU6YW1vdW50LAogICAgICAgICAgICBtb2RlOlNlbmRJZ25vcmVFcnJvcnMrU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6dHJ1ZSAKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKCJSZXR1cm4iKXsKICAgICAgICBzZWxmLm9ubHlPd25lcigpOwogICAgICAgIGxldCBhbW91bnQ6SW50PW1pbih0b24oIjEiKSxteUJhbGFuY2UoKS1jb250ZXh0KCkudmFsdWUtc2VsZi5NSU5fVE9OX0JBTEFOQ0VfUkVRVUlSRUQpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOnNlbGYuZ2VuZXJhdGVkQnkhISwKICAgICAgICAgICAgdmFsdWU6YW1vdW50LAogICAgICAgICAgICBtb2RlOlNlbmRJZ25vcmVFcnJvcnMrU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICBib3VuY2U6dHJ1ZSAKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKCJDb250cmlidXRlIil7CiAgICAgICAgc2VsZi5vbmx5T3duZXIoKTsKICAgICAgICBsZXQgYW1vdW50OkludD1taW4odG9uKCIxIiksbXlCYWxhbmNlKCktY29udGV4dCgpLnZhbHVlLXNlbGYuTUlOX1RPTl9CQUxBTkNFX1JFUVVJUkVEKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzpzZWxmLm93bmVyQ29udHJhY3QsCiAgICAgICAgICAgIHZhbHVlOmFtb3VudCwKICAgICAgICAgICAgbW9kZTpTZW5kSWdub3JlRXJyb3JzK1NlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOnRydWUgCiAgICAgICAgfSk7CiAgICB9CgoKICAgIGdldCBmdW4gZGV0YWlscygpOlJlZnsKICAgICAgICBsZXQgcmVmOlJlZj1SZWZ7CiAgICAgICAgICAgIG93bmVyQ29udHJhY3Q6c2VsZi5vd25lckNvbnRyYWN0LAogICAgICAgICAgICBnZW5lcmF0ZWRCeTpzZWxmLmdlbmVyYXRlZEJ5ISEsCiAgICAgICAgICAgIGpvYklkOnNlbGYuam9iSWQsCiAgICAgICAgICAgIGxpbms6c2VsZi5saW5rCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gcmVmOwogICAgfQoKICAgIGdldCBmdW4gYmFsYW5jZSgpOkludHsKICAgICAgICByZXR1cm4gbXlCYWxhbmNlKCk7CiAgICB9Cn0K","contracts/pot.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiLi9yZWZlcnJhbC50YWN0IjsKCm1lc3NhZ2UgV2l0aGRyYXdBbW91bnR7CiAgICBhbW91bnQ6SW50IGFzIGNvaW5zOwp9CgptZXNzYWdlIEdlbmVyYXRlUmVmZXJyYWx7CiAgICBqb2JJZDpTdHJpbmc7CiAgICBsaW5rOlN0cmluZzsKICAgIGdlbmVyYXRlZEJ5OkFkZHJlc3M7Cn0KCm1lc3NhZ2UgQ2FuZGlkYXRlUmVnaXN0ZXJlZHsKICAgIHJhdGluZzpJbnQgYXMgdWludDg7CiAgICBqb2JJZDpTdHJpbmc7CiAgICBsaW5rOlN0cmluZzsKfQoKY29udHJhY3QgUG90IHdpdGggRGVwbG95YWJsZSB7CgogICAgY29uc3QgTUlOX1RPTl9CQUxBTkNFX1JFUVVJUkVEOkludCA9IHRvbigiMC4wMSIpOwogICAgb3duZXI6QWRkcmVzczsKCiAgICBpbml0KCkgewogICAgICAgIHNlbGYub3duZXI9c2VuZGVyKCk7CiAgICB9CgogICAgZnVuIG93bmVyT25seSgpewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCk9PXNlbGYub3duZXIsIlRoaXMgYWN0aW9uIGlzIHJlc2VydmVkIGZvciB0aGUgb3duZXIgISIpOwogICAgfQoKICAgIC8vIGZvciByZWNlaXZpbmcgZGVwb3NpdHMKICAgIHJlY2VpdmUoKXsKCiAgICB9CgogICAgLy8gV2l0aGRyYXdpbmcgYWxsIHRoZSBiYWxhbmNlCiAgICByZWNlaXZlKCJ3aXRoZHJhd0FsbCIpewogICAgICAgIHNlbGYub3duZXJPbmx5KCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86c2VuZGVyKCksCiAgICAgICAgICAgIHZhbHVlOm15QmFsYW5jZSgpLWNvbnRleHQoKS52YWx1ZS1zZWxmLk1JTl9UT05fQkFMQU5DRV9SRVFVSVJFRCwKICAgICAgICAgICAgbW9kZTpTZW5kSWdub3JlRXJyb3JzK1NlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgYm91bmNlOnRydWUKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyBXaXRoZHJhd2luZyBhIGNlcnRhaW4gYW1vdW50CiAgICByZWNlaXZlKG1zZzpXaXRoZHJhd0Ftb3VudCl7CiAgICAgICAgc2VsZi5vd25lck9ubHkoKTsKICAgICAgICBsZXQgYW1vdW50OkludD1taW4obXNnLmFtb3VudCxteUJhbGFuY2UoKS1jb250ZXh0KCkudmFsdWUtc2VsZi5NSU5fVE9OX0JBTEFOQ0VfUkVRVUlSRUQpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOnNlbmRlcigpLAogICAgICAgICAgICB2YWx1ZTphbW91bnQsCiAgICAgICAgICAgIG1vZGU6U2VuZElnbm9yZUVycm9ycytTZW5kUmVtYWluaW5nVmFsdWUsCiAgICAgICAgICAgIGJvdW5jZTp0cnVlCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6R2VuZXJhdGVSZWZlcnJhbCl7CiAgICAgICAgaWYoY29udGV4dCgpLnZhbHVlPj10b24oIjEuMDUiKSl7CiAgICAgICAgICAgIGxldCByZWZJbml0OlN0YXRlSW5pdD1zZWxmLmdldFJlZkluaXQobXNnLmpvYklkLG1zZy5saW5rKTsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOmNvbnRyYWN0QWRkcmVzcyhyZWZJbml0KSwKICAgICAgICAgICAgICAgIHZhbHVlOjAsCiAgICAgICAgICAgICAgICBtb2RlOlNlbmRJZ25vcmVFcnJvcnMrU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm91bmNlOnRydWUsCiAgICAgICAgICAgICAgICBjb2RlOnJlZkluaXQuY29kZSwKICAgICAgICAgICAgICAgIGRhdGE6cmVmSW5pdC5kYXRhLAogICAgICAgICAgICAgICAgYm9keTpBZmZpbGlhdGV7CiAgICAgICAgICAgICAgICAgICAgYWZmaWxpYXRlOm1zZy5nZW5lcmF0ZWRCeQogICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CgogICAgcmVjZWl2ZShtc2c6Q2FuZGlkYXRlUmVnaXN0ZXJlZCl7CiAgICAgICAgbGV0IHJlZkluaXQ6U3RhdGVJbml0PXNlbGYuZ2V0UmVmSW5pdChtc2cuam9iSWQsbXNnLmxpbmspOwogICAgICAgIGlmKG1zZy5yYXRpbmc8Myl7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzpjb250cmFjdEFkZHJlc3MocmVmSW5pdCksCiAgICAgICAgICAgICAgICB2YWx1ZTowLAogICAgICAgICAgICAgICAgbW9kZTpTZW5kSWdub3JlRXJyb3JzK1NlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgICAgIGJvdW5jZTp0cnVlLAogICAgICAgICAgICAgICAgYm9keToiQ29udHJpYnV0ZSIuYXNDb21tZW50KCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgaWYobXNnLnJhdGluZz4zICYmIG1zZy5yYXRpbmc8PTUgKXsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOmNvbnRyYWN0QWRkcmVzcyhyZWZJbml0KSwKICAgICAgICAgICAgICAgIHZhbHVlOnRvbigiMSIpLAogICAgICAgICAgICAgICAgbW9kZTpTZW5kSWdub3JlRXJyb3JzK1NlbmRSZW1haW5pbmdWYWx1ZSwKICAgICAgICAgICAgICAgIGJvdW5jZTp0cnVlLAogICAgICAgICAgICAgICAgYm9keToiUmV3YXJkIi5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSBpZihtc2cucmF0aW5nPT0zKXsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOmNvbnRyYWN0QWRkcmVzcyhyZWZJbml0KSwKICAgICAgICAgICAgICAgIHZhbHVlOjAsCiAgICAgICAgICAgICAgICBtb2RlOlNlbmRJZ25vcmVFcnJvcnMrU2VuZFJlbWFpbmluZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm91bmNlOnRydWUsCiAgICAgICAgICAgICAgICBib2R5OiJSZXR1cm4iLmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOyAgICAgICAgCiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHNlbGYucmVwbHkoIk5vdCBhIHZhbGlkIHJhdGluZyEiLmFzQ29tbWVudCgpKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gR2V0dGluZyBiYWxhbmNlIG9mIHRoZSBwb3QKICAgIGdldCBmdW4gYmFsYW5jZSgpOlN0cmluZ3sKICAgICAgICAvLyBzZWxmLm93bmVyT25seSgpOwogICAgICAgIHJldHVybiBteUJhbGFuY2UoKS50b0NvaW5zU3RyaW5nKCk7CiAgICB9CgogICAgLy8gR2V0dGluZyBhZGRyZXNzIG9mIHRoZSBwb3QKICAgIGdldCBmdW4gYWRkcmVzcygpOkFkZHJlc3N7CiAgICAgICAgcmV0dXJuIG15QWRkcmVzcygpOwogICAgfQoKICAgIC8vIEdldHRpbmcgb3duZXIgb2YgdGhlIHBvdAogICAgZ2V0IGZ1biBvd25lcigpOkFkZHJlc3N7CiAgICAgICAgcmV0dXJuIHNlbGYub3duZXI7CiAgICB9CgogICAgZnVuIGdldFJlZkluaXQoam9iSWQ6U3RyaW5nLGxpbms6U3RyaW5nKTpTdGF0ZUluaXR7CiAgICAgICAgbGV0IGluaXQ6U3RhdGVJbml0PWluaXRPZiBSZWZlcnJhbChqb2JJZCxsaW5rKTsKICAgICAgICByZXR1cm4gaW5pdDsKICAgIH0KCiAgICBnZXQgZnVuIGxpbmtBZGRyZXNzKGpvYklkOlN0cmluZyxsaW5rOlN0cmluZyk6QWRkcmVzc3sKICAgICAgICBsZXQgcmVmSW5pdDpTdGF0ZUluaXQ9c2VsZi5nZXRSZWZJbml0KGpvYklkLGxpbmspOwogICAgICAgIHJldHVybiBjb250cmFjdEFkZHJlc3MocmVmSW5pdCk7CiAgICB9Cn0K"},"compiler":{"name":"tact","version":"1.3.1","parameters":"{\"entrypoint\":\"contracts/pot.tact\",\"options\":{\"debug\":true}}"}}